\newarray\IdArr
\newcounter{IdArrSize}
\setcounter{IdArrSize}{0}

\newcounter{NumRef}

\makeatletter

\NewDocumentCommand{\referifexists}{m}{\ifdefmacro{#1}{#1}{\@ifundefined{r@def:#1}{#1}{\stepcounter{NumRef}\hyperref[def:#1]{#1}}}
}

\makeatother

\NewDocumentCommand{\sentence}{>{\SplitList{ }}m}{
  \NewDocumentCommand{\word}{m}{\referifexists{##1}}

  \ProcessList{#1}{\word}\par
}

\NewDocumentCommand{\defn}{m m m}{
  \setcounter{NumRef}{0}
  \stepcounter{IdArrSize}
  \IdArr(\value{IdArrSize})={#1}

  \begin{definition}
    \label{def:#1}
    \textbf{#1}\par
    \sentence{#2}
    \ifthenelse{\isempty{#3}}{{\color{red} No significance?}}{\textbf{Significance}:#3}\par
    \hspace*{0pt}\hfill\ifthenelse{\equal{\theNumRef}{0}}{\textbf{Axiom}}{\textbf{\theNumRef\ parent(s)}}
  \end{definition}
}

\endinput

